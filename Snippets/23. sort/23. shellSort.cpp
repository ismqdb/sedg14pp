/* ******************************************************************************** */

#include "23. shellSort.hpp"

/* ******************************************************************************** */

none shellSort(i8 array[], i32 size) {
    i32 i;
    i32 j;
    i32 h;
    i32 temp;

    for (h = 1; h <= size / 9; h = 3 * h + 1)
        ;

    while (h = hreduce(h)) {
        for (i = h; i < size; i++) {
            temp = array[i];
            j = i;

            while (j >= h && array[j - h] > temp) {
                array[j] = array[j - h];
                j -= h;
            }
            array[j] = temp;
        }
    }
}

/* ******************************************************************************** */

i32 hreduce(i32 in) {
    i32 coef = 3;

    if (in > 1 && (in / coef) == 0)
        return 1;
    else
        return in / coef;
}

/* ******************************************************************************** */