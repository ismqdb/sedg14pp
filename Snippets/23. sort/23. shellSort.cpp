/* ******************************************************************************** */

#include "23. shellSort.hpp"

/* ******************************************************************************** */

none shellSort(i8 array[], i32 size) {
    i32 i;
    i32 j;
    i32 temp;

    i32 h = shell_inc(size);

    while (h = shell_dec(h)) {
        for (i = h; i < size; i++) {
            temp = array[i];
            j = i;

            while (j >= h && array[j - h] > temp) {
                array[j] = array[j - h];
                j -= h;
            }
            array[j] = temp;
        }
    }
}

/* ******************************************************************************** */

i32 shell_inc(i32 size) {
    i32 h;

    for (h = 1; h <= size / 9; h = 3 * h + 1)
        ;

    return h;
}

/* ******************************************************************************** */

i32 shell_dec(i32 size) {
    i32 coef = 3;

    if (size > 1 && (size / coef) == 0)
        return 1;
    else
        return size / coef;
}

/* ******************************************************************************** */