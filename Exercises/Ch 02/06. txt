See 16. parallel_array_s.cpp for implementation.